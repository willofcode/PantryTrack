(function(l,W){typeof exports=="object"&&typeof module<"u"?W(exports,require("react"),require("firebase/auth"),require("firebase/database"),require("firebase/app"),require("firebase/firestore"),require("firebase/functions"),require("firebase/storage"),require("firebase/remote-config")):typeof define=="function"&&define.amd?define(["exports","react","firebase/auth","firebase/database","firebase/app","firebase/firestore","firebase/functions","firebase/storage","firebase/remote-config"],W):(l=typeof globalThis<"u"?globalThis:l||self,W(l.ReactFire={},l.React,l.auth,l.database,l.app,l.firestore,l.functions,l.storage,l.remoteConfig))})(this,function(l,W,Qt,$,Z,Ge,Kt,ze,V){"use strict";function Ht(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const d=Ht(W);var Se=function(e,t){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Se(e,t)};function I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Se(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Yt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _e(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function a(f){try{c(r.next(f))}catch(v){u(v)}}function s(f){try{c(r.throw(f))}catch(v){u(v)}}function c(f){f.done?o(f.value):i(f.value).then(a,s)}c((r=r.apply(e,t||[])).next())})}function Je(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(c){return function(f){return s([c,f])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function M(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){u={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function x(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function L(e){return this instanceof L?(this.v=e,this):new L(e)}function Gt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(h){r[h]&&(i[h]=function(y){return new Promise(function(C,p){o.push([h,y,C,p])>1||a(h,y)})})}function a(h,y){try{s(r[h](y))}catch(C){v(o[0][3],C)}}function s(h){h.value instanceof L?Promise.resolve(h.value.v).then(c,f):v(o[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function v(h,y){h(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function zt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof M=="function"?M(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(a,s){u=e[o](u),i(a,s,u.done,u.value)})}}function i(o,u,a,s){Promise.resolve(s).then(function(c){o({value:c,done:a})},u)}}function b(e){return typeof e=="function"}function Ce(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ee=Ce(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function B(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Q=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=M(u),s=a.next();!s.done;s=a.next()){var c=s.value;c.remove(this)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(b(f))try{f()}catch(p){o=p instanceof Ee?p.errors:[p]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var h=M(v),y=h.next();!y.done;y=h.next()){var C=y.value;try{Xe(C)}catch(p){o=o!=null?o:[],p instanceof Ee?o=x(x([],R(o)),R(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new Ee(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Xe(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&B(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&B(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ze=Q.EMPTY;function Be(e){return e instanceof Q||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function Xe(e){b(e)?e():e.unsubscribe()}var Ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ke={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ke.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,x([e,t],R(n))):setTimeout.apply(void 0,x([e,t],R(n)))},clearTimeout:function(e){var t=ke.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function et(e){ke.setTimeout(function(){throw e})}function Oe(){}var X=null;function ee(e){if(Ie.useDeprecatedSynchronousErrorHandling){var t=!X;if(t&&(X={errorThrown:!1,error:null}),e(),t){var n=X,r=n.errorThrown,i=n.error;if(X=null,r)throw i}}else e()}var Fe=function(e){I(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Be(n)&&n.add(r)):r.destination=Xt,r}return t.create=function(n,r,i){return new K(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Q),Jt=Function.prototype.bind;function Ae(e,t){return Jt.call(e,t)}var Zt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){te(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){te(r)}else te(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){te(n)}},e}(),K=function(e){I(t,e);function t(n,r,i){var o=e.call(this)||this,u;if(b(n)||!n)u={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;o&&Ie.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},u={next:n.next&&Ae(n.next,a),error:n.error&&Ae(n.error,a),complete:n.complete&&Ae(n.complete,a)}):u=n}return o.destination=new Zt(u),o}return t}(Fe);function te(e){et(e)}function Bt(e){throw e}var Xt={closed:!0,next:Oe,error:Bt,complete:Oe},Pe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function H(e){return e}function en(e){return e.length===0?H:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var g=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=nn(t)?t:new K(t,n,r);return ee(function(){var u=i,a=u.operator,s=u.source;o.add(a?a.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=tt(n),new n(function(i,o){var u=new K({next:function(a){try{t(a)}catch(s){o(s),u.unsubscribe()}},error:o,complete:i});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Pe]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return en(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=tt(t),new t(function(r,i){var o;n.subscribe(function(u){return o=u},function(u){return i(u)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function tt(e){var t;return(t=e!=null?e:Ie.Promise)!==null&&t!==void 0?t:Promise}function tn(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}function nn(e){return e&&e instanceof Fe||tn(e)&&Be(e)}function rn(e){return b(e==null?void 0:e.lift)}function S(e){return function(t){if(rn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _(e,t,n,r,i){return new on(e,t,n,r,i)}var on=function(e){I(t,e);function t(n,r,i,o,u,a){var s=e.call(this,n)||this;return s.onFinalize=u,s.shouldUnsubscribe=a,s._next=r?function(c){try{r(c)}catch(f){n.error(f)}}:e.prototype._next,s._error=o?function(c){try{o(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,s}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Fe),un=Ce(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ne=function(e){I(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new nt(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new un},t.prototype.next=function(n){var r=this;ee(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=M(r.currentObservers),a=u.next();!a.done;a=u.next()){var s=a.value;s.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;ee(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;ee(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,u=i.isStopped,a=i.observers;return o||u?Ze:(this.currentObservers=null,a.push(n),new Q(function(){r.currentObservers=null,B(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,u=r.isStopped;i?n.error(o):u&&n.complete()},t.prototype.asObservable=function(){var n=new g;return n.source=this,n},t.create=function(n,r){return new nt(n,r)},t}(g),nt=function(e){I(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Ze},t}(ne),De={now:function(){return(De.delegate||Date).now()},delegate:void 0},an=function(e){I(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=De);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,u=r._infiniteTimeWindow,a=r._timestampProvider,s=r._windowTime;i||(o.push(n),!u&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,u=i._buffer,a=u.slice(),s=0;s<a.length&&!n.closed;s+=o?1:2)n.next(a[s]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,u=n._infiniteTimeWindow,a=(u?1:2)*r;if(r<1/0&&a<o.length&&o.splice(0,o.length-a),!u){for(var s=i.now(),c=0,f=1;f<o.length&&o[f]<=s;f+=2)c=f;c&&o.splice(0,c+1)}},t}(ne),sn=function(e){I(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Q),re={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=re.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,x([e,t],R(n))):setInterval.apply(void 0,x([e,t],R(n)))},clearInterval:function(e){var t=re.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},cn=function(e){I(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),re.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;re.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,B(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(sn),rt=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=De.now,e}(),ln=function(e){I(t,e);function t(n,r){r===void 0&&(r=rt.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(rt),Te=new ln(cn),fn=Te,$e=new g(function(e){return e.complete()});function dn(e){return e?vn(e):$e}function vn(e){return new g(function(t){return e.schedule(function(){return t.complete()})})}function it(e){return e&&b(e.schedule)}function ot(e){return e[e.length-1]}function Re(e){return it(ot(e))?e.pop():void 0}function hn(e,t){return typeof ot(e)=="number"?e.pop():t}var ut=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function at(e){return b(e==null?void 0:e.then)}function st(e){return b(e[Pe])}function ct(e){return Symbol.asyncIterator&&b(e==null?void 0:e[Symbol.asyncIterator])}function lt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function pn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ft=pn();function dt(e){return b(e==null?void 0:e[ft])}function vt(e){return Gt(this,arguments,function(){var n,r,i,o;return Je(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,L(n.read())];case 3:return r=u.sent(),i=r.value,o=r.done,o?[4,L(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,L(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function ht(e){return b(e==null?void 0:e.getReader)}function k(e){if(e instanceof g)return e;if(e!=null){if(st(e))return bn(e);if(ut(e))return mn(e);if(at(e))return yn(e);if(ct(e))return pt(e);if(dt(e))return gn(e);if(ht(e))return wn(e)}throw lt(e)}function bn(e){return new g(function(t){var n=e[Pe]();if(b(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mn(e){return new g(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function yn(e){return new g(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,et)})}function gn(e){return new g(function(t){var n,r;try{for(var i=M(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function pt(e){return new g(function(t){Sn(e,t).catch(function(n){return t.error(n)})})}function wn(e){return pt(vt(e))}function Sn(e,t){var n,r,i,o;return _e(this,void 0,void 0,function(){var u,a;return Je(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=zt(e),s.label=1;case 1:return[4,n.next()];case 2:if(r=s.sent(),!!r.done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),i={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function T(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function bt(e,t){return t===void 0&&(t=0),S(function(n,r){n.subscribe(_(r,function(i){return T(r,e,function(){return r.next(i)},t)},function(){return T(r,e,function(){return r.complete()},t)},function(i){return T(r,e,function(){return r.error(i)},t)}))})}function mt(e,t){return t===void 0&&(t=0),S(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function _n(e,t){return k(e).pipe(mt(t),bt(t))}function Cn(e,t){return k(e).pipe(mt(t),bt(t))}function En(e,t){return new g(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function In(e,t){return new g(function(n){var r;return T(n,t,function(){r=e[ft](),T(n,t,function(){var i,o,u;try{i=r.next(),o=i.value,u=i.done}catch(a){n.error(a);return}u?n.complete():n.next(o)},0,!0)}),function(){return b(r==null?void 0:r.return)&&r.return()}})}function yt(e,t){if(!e)throw new Error("Iterable cannot be null");return new g(function(n){T(n,t,function(){var r=e[Symbol.asyncIterator]();T(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function kn(e,t){return yt(vt(e),t)}function On(e,t){if(e!=null){if(st(e))return _n(e,t);if(ut(e))return En(e,t);if(at(e))return Cn(e,t);if(ct(e))return yt(e,t);if(dt(e))return In(e,t);if(ht(e))return kn(e,t)}throw lt(e)}function O(e,t){return t?On(e,t):k(e)}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Re(e);return O(e,n)}var gt=Ce(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Fn(e){return e instanceof Date&&!isNaN(e)}function E(e,t){return S(function(n,r){var i=0;n.subscribe(_(r,function(o){r.next(e.call(t,o,i++))}))})}function An(e,t,n,r,i,o,u,a){var s=[],c=0,f=0,v=!1,h=function(){v&&!s.length&&!c&&t.complete()},y=function(p){return c<r?C(p):s.push(p)},C=function(p){o&&t.next(p),c++;var U=!1;k(n(p,f++)).subscribe(_(t,function(D){i==null||i(D),o?y(D):t.next(D)},function(){U=!0},void 0,function(){if(U)try{c--;for(var D=function(){var q=s.shift();u?T(t,u,function(){return C(q)}):C(q)};s.length&&c<r;)D();h()}catch(q){t.error(q)}}))};return e.subscribe(_(t,y,function(){v=!0,h()})),function(){a==null||a()}}function xe(e,t,n){return n===void 0&&(n=1/0),b(t)?xe(function(r,i){return E(function(o,u){return t(r,o,i,u)})(k(e(r,i)))},n):(typeof t=="number"&&(n=t),S(function(r,i){return An(r,i,e,n)}))}function wt(e){return e===void 0&&(e=1/0),xe(H,e)}function Pn(){return wt(1)}function Dn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pn()(O(e,Re(e)))}function Tn(e,t,n){e===void 0&&(e=0),n===void 0&&(n=fn);var r=-1;return t!=null&&(it(t)?n=t:r=t),new g(function(i){var o=Fn(e)?+e-n.now():e;o<0&&(o=0);var u=0;return n.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Re(e),r=hn(e,1/0),i=e;return i.length?i.length===1?k(i[0]):wt(r)(O(i,n)):$e}function Rn(e,t){return S(function(n,r){var i=0;n.subscribe(_(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function St(e){return S(function(t,n){var r=null,i=!1,o;r=t.subscribe(_(n,void 0,void 0,function(u){o=k(e(u,St(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xn(e,t,n,r,i){return function(o,u){var a=n,s=t,c=0;o.subscribe(_(u,function(f){var v=c++;s=a?e(s,f,v):(a=!0,f),r&&u.next(s)},i&&function(){a&&u.next(s),u.complete()}))}}function jn(e,t){return t===void 0&&(t=Te),S(function(n,r){var i=null,o=null,u=null,a=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,r.next(c)}};function s(){var c=u+e,f=t.now();if(f<c){i=this.schedule(void 0,c-f),r.add(i);return}a()}n.subscribe(_(r,function(c){o=c,u=t.now(),i||(i=t.schedule(s,e),r.add(i))},function(){a(),r.complete()},void 0,function(){o=i=null}))})}function Un(e){return S(function(t,n){var r=!1;t.subscribe(_(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function je(e){return e<=0?function(){return $e}:S(function(t,n){var r=0;t.subscribe(_(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Vn(){return S(function(e,t){e.subscribe(_(t,Oe))})}function Mn(e){return E(function(){return e})}function _t(e,t){return t?function(n){return Dn(t.pipe(je(1),Vn()),n.pipe(_t(e)))}:xe(function(n,r){return e(n,r).pipe(je(1),Mn(n))})}function Ln(e,t){t===void 0&&(t=Te);var n=Tn(e,t);return _t(function(){return n})}function Nn(e,t){return t===void 0&&(t=H),e=e!=null?e:qn,S(function(n,r){var i,o=!0;n.subscribe(_(r,function(u){var a=t(u);(o||!e(i,a))&&(o=!1,i=a,r.next(u))}))})}function qn(e,t){return e===t}function Wn(e){return e===void 0&&(e=Qn),S(function(t,n){var r=!1;t.subscribe(_(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function Qn(){return new gt}function Ct(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Rn(function(i,o){return e(i,o,r)}):H,je(1),n?Un(t):Wn(function(){return new gt}))}}function Kn(e,t){return S(xn(e,t,arguments.length>=2,!0))}function Hn(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new ne}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,u=o===void 0?!0:o,a=e.resetOnRefCountZero,s=a===void 0?!0:a;return function(c){var f,v,h,y=0,C=!1,p=!1,U=function(){v==null||v.unsubscribe(),v=void 0},D=function(){U(),f=h=void 0,C=p=!1},q=function(){var J=f;D(),J==null||J.unsubscribe()};return S(function(J,Wt){y++,!p&&!C&&U();var ge=h=h!=null?h:n();Wt.add(function(){y--,y===0&&!p&&!C&&(v=Ue(q,s))}),ge.subscribe(Wt),!f&&y>0&&(f=new K({next:function(we){return ge.next(we)},error:function(we){p=!0,U(),v=Ue(D,i,we),ge.error(we)},complete:function(){C=!0,U(),v=Ue(D,u),ge.complete()}}),k(J).subscribe(f))})(c)}}function Ue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new K({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,x([],R(n))).subscribe(i)}}function Yn(e,t,n){var r,i,o,u,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,u=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,a=o===void 0?!1:o,n=e.scheduler):u=e!=null?e:1/0,Hn({connector:function(){return new an(u,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Et(e,t){return S(function(n,r){var i=null,o=0,u=!1,a=function(){return u&&!i&&r.complete()};n.subscribe(_(r,function(s){i==null||i.unsubscribe();var c=0,f=o++;k(e(s,f)).subscribe(i=_(r,function(v){return r.next(t?t(s,v,f,c++):v)},function(){i=null,a()}))},function(){u=!0,a()}))})}function Gn(e,t,n){var r=b(e)||t||n?{next:e,error:t,complete:n}:e;return r?S(function(i,o){var u;(u=r.subscribe)===null||u===void 0||u.call(r);var a=!0;i.subscribe(_(o,function(s){var c;(c=r.next)===null||c===void 0||c.call(r,s),o.next(s)},function(){var s;a=!1,(s=r.complete)===null||s===void 0||s.call(r),o.complete()},function(s){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,s),o.error(s)},function(){var s,c;a&&((s=r.unsubscribe)===null||s===void 0||s.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):H}function Ve(e){return new g(function(t){var n=Qt.onIdTokenChanged(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}const zn="[DEFAULT]",It=d.createContext(void 0),Me=d.createContext(!1),kt="4.2.3",Jn=(e,t)=>e===t||[...Object.keys(e),...Object.keys(t)].every(n=>e[n]===t[n]);function Zn(e){const{firebaseConfig:t,appName:n,suspense:r}=e,i=d.useMemo(()=>{if(e.firebaseApp)return e.firebaseApp;const o=Z.getApps().find(u=>u.name===(n||zn));if(o){if(t&&Jn(o.options,t))return o;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!t)throw new Error("No firebaseConfig provided");const u=d.version||"unknown";return Z.registerVersion("react",u),Z.registerVersion("reactfire",kt),Z.initializeApp(t,n)}},[e.firebaseApp,t,n]);return d.createElement(It.Provider,{value:i},d.createElement(Me.Provider,Object.assign({value:r!=null?r:!1},e)))}function Bn(){const e=d.useContext(Me);return e!=null?e:!1}function Y(e){let t=d.useContext(Me);return e!==void 0?e:t}function Le(){const e=d.useContext(It);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}function Xn(e){return _e(this,void 0,void 0,function*(){const t=yield e();return se(Ve(t),`auth:user:${t.name}`).toPromise()})}function Ot(e){const t=He(),n=`auth:user:${t.name}`,r=Ve(t);return w(n,r,e)}function Ft(e,t=!1,n){if(!e)throw new Error("you must provide a user");const r=`auth:idTokenResult:${e.uid}:forceRefresh=${t}`,i=O(e.getIdTokenResult(t));return w(r,i,n)}function er(e){if((e==null?void 0:e.hasOwnProperty("requiredClaims"))&&(e==null?void 0:e.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const t=He();let n=`auth:signInCheck:${t.name}::forceRefresh:${!!(e!=null&&e.forceRefresh)}`;e!=null&&e.forceRefresh&&(n=`${n}:forceRefresh:${e.forceRefresh}`),e!=null&&e.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(e.requiredClaims)}`:e!=null&&e.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(e.validateCustomClaims)}`);const r=Ve(t).pipe(Et(i=>{var o;return i?e&&(e.hasOwnProperty("requiredClaims")||e.hasOwnProperty("validateCustomClaims"))?O(i.getIdTokenResult((o=e==null?void 0:e.forceRefresh)!==null&&o!==void 0?o:!1)).pipe(E(u=>{let a;e.hasOwnProperty("requiredClaims")?a=tr(e.requiredClaims):a=e.validateCustomClaims;const{hasRequiredClaims:s,errors:c}=a(u.claims);return{signedIn:!0,hasRequiredClaims:s,errors:c,user:i}})):ie({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):ie({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return w(n,r)}function tr(e){return function(n){const r={};return Object.keys(e).forEach(i=>{e[i]!==n[i]&&(r[i]=[new ye("auth/missing-claim",`Expected "${e[i]}", but user has "${n[i]}" instead`)])}),{hasRequiredClaims:Object.keys(r).length===0,errors:r}}}function At({user:e,fallback:t,children:n,requiredClaims:r}){const{data:i}=Ft(e,!1),{claims:o}=i,u={};return Y()||console.warn("ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),r&&Object.keys(r).forEach(s=>{var c;r[s]!==o[s]&&(u[s]={expected:r[s],actual:(c=o[s])===null||c===void 0?void 0:c.toString()})}),Object.keys(u).length===0?d.createElement(d.Fragment,null,n):d.createElement(d.Fragment,null,t)}function nr({fallback:e,children:t,requiredClaims:n}){const{data:r}=Ot();return Y()||console.warn("AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),r?n?d.createElement(At,{user:r,fallback:e,requiredClaims:n},t):d.createElement(d.Fragment,null,t):d.createElement(d.Fragment,null,e)}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var oe=function(){return oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)};function Ne(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j,m;(function(e){e.added="child_added",e.removed="child_removed",e.changed="child_changed",e.moved="child_moved",e.value="value"})(m||(m={}));var rr=Object.freeze((j={},j[m.added]=$.onChildAdded,j[m.removed]=$.onChildRemoved,j[m.changed]=$.onChildChanged,j[m.moved]=$.onChildMoved,j[m.value]=$.onValue,j));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e,t){return new g(function(n){var r=rr[t](e,function(i,o){n.next({snapshot:i,prevKey:o,event:t})},n.error.bind(n));return{unsubscribe:function(){$.off(e,t,r)}}}).pipe(Ln(0))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(e){return(e==null||e.length===0)&&(e=[m.added,m.removed,m.changed,m.moved]),e}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(e){return qe(e,m.value)}function ur(e,t){return t===void 0&&(t={}),qe(e,m.value).pipe(E(function(n){return Pt(n,t)}))}function Pt(e,t){var n;t===void 0&&(t={});var r=e.snapshot.val();return!e.snapshot.exists()||typeof r!="object"?r:oe(oe({},r),t.keyField?(n={},n[t.keyField]=e.snapshot.key,n):null)}function ar(e){return O($.get(e)).pipe(E(function(t){var n=m.value;return{snapshot:t,prevKey:null,event:n}}))}function Dt(e,t){t===void 0&&(t={});var n=ir(t.events);return ar(e).pipe(Et(function(r){if(!r.snapshot.exists())return ie([]);var i=[ie(r)];return n.forEach(function(o){i.push(qe(e,o))}),$n.apply(void 0,i).pipe(Kn(lr,[]))}),Nn())}function sr(e,t){return t===void 0&&(t={}),Dt(e).pipe(E(function(n){return n.map(function(r){return Pt(r,t)})}))}function Tt(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].snapshot.key===t)return r;return-1}function cr(e,t){if(t==null)return 0;var n=Tt(e,t);return n===-1?e.length:n+1}function lr(e,t){var n=t.snapshot,r=t.prevKey,i=t.event,o=n.key,u=Tt(e,o),a=cr(e,r||void 0);switch(i){case m.value:if(t.snapshot&&t.snapshot.exists()){var s=null;t.snapshot.forEach(function(v){var h={snapshot:v,event:m.value,prevKey:s};return s=v.key,e=Ne(Ne([],e),[h]),!1})}return e;case m.added:if(u>-1){var c=e[u-1];(c&&c.snapshot.key||null)!==r&&(e=e.filter(function(v){return v.snapshot.key!==n.key}),e.splice(a,0,t))}else{if(r==null)return Ne([t],e);e=e.slice(),e.splice(a,0,t)}return e;case m.removed:return e.filter(function(v){return v.snapshot.key!==n.key});case m.changed:return e.map(function(v){return v.snapshot.key===o?t:v});case m.moved:if(u>-1){var f=e.splice(u,1)[0];return e=e.slice(),e.splice(a,0,f),e}return e;default:return e}}const We=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=We);function $t(e){const t=We.findIndex(n=>n.isEqual(e));return t>-1?t:We.push(e)-1}function fr(e,t){const n=`database:object:${e.toString()}`,r=or(e);return w(n,r,t)}function dr(e,t){const n=t?N(t):"NO_ID_FIELD",r=`database:objectVal:${e.toString()}:idField=${n}`,i=ur(e,{keyField:n});return w(r,i,t)}function vr(e,t){const n=`database:list:${$t(e)}`,r=Dt(e);return w(n,r,t)}function hr(e,t){const n=t?N(t):"NO_ID_FIELD",r=`database:listVal:${$t(e)}:idField=${n}`,i=sr(e,{keyField:n});return w(r,i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr={includeMetadataChanges:!1};function Qe(e,t){return t===void 0&&(t=pr),new g(function(n){var r=Ge.onSnapshot(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e){return Qe(e,{includeMetadataChanges:!0})}function Rt(e,t){return t===void 0&&(t={}),ue(e).pipe(E(function(n){return xt(n,t)}))}function xt(e,t){t===void 0&&(t={});var n=e.data();return!e.exists()||typeof n!="object"||n===null||t.idField&&(n[t.idField]=e.id),n}function br(e){return Qe(e,{includeMetadataChanges:!0}).pipe(E(function(t){return t.docs}))}function mr(e,t){return t===void 0&&(t={}),br(e).pipe(E(function(n){return n.map(function(r){return xt(r,t)})}))}class yr extends ne{constructor(t,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=t.pipe(Gn({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),St(()=>dn()),Yn(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(t){this._hasValue=!0,this._value=t,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(t=>this._resolveFirstEmission=t)}_subscribe(t){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(t),this._innerSubscriber}get ourError(){return this._error}}const gr=3e4,ae=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=ae);function se(e,t){if(ae.has(t))return ae.get(t);{const n=new yr(e,gr);return ae.set(t,n),n}}function wr(e){return function(n,r){const i=Object.assign(Object.assign({},n),{hasEmitted:n.hasEmitted||e.hasValue,error:e.ourError,firstValuePromise:e.firstEmission});switch(e.hasValue&&(i.data=e.value),r){case"value":return i.status="success",i;case"error":return i.status="error",i;case"complete":return i.isComplete=!0,i;default:throw new Error(`invalid action "${r}"`)}}}function w(e,t,n={}){var r;if(!e)throw new Error("cannot call useObservable without an observableId");const i=se(t,e),o=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),u=i.hasValue||o;if(Y(n.suspense)===!0&&!u)throw i.firstEmission;const s={status:u?"success":"loading",hasEmitted:u,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[c,f]=d.useReducer(wr(i),s);return d.useEffect(()=>{const v=i.subscribe({next:()=>{f("value")},error:h=>{throw f("error"),h},complete:()=>{f("complete")}});return()=>v.unsubscribe()},[i]),c}const Ke=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=Ke);function jt(e){const t=Ke.findIndex(n=>Ge.queryEqual(n,e));return t>-1?t:Ke.push(e)-1}function Sr(e){return _e(this,void 0,void 0,function*(){const t=yield e();return se(ue(t),Ut(t))})}function Ut(e){return`firestore:doc:${e.firestore.app.name}:${e.path}`}function _r(e,t){const n=Ut(e),r=ue(e);return w(n,r,t)}function Cr(e,t){const n=`firestore:docOnce:${e.firestore.app.name}:${e.path}`,r=ue(e).pipe(Ct());return w(n,r,t)}function Er(e,t){const n=t?N(t):"NO_ID_FIELD",r=`firestore:docData:${e.firestore.app.name}:${e.path}:idField=${n}`,i=Rt(e,{idField:n});return w(r,i,t)}function Ir(e,t){const n=t?N(t):"NO_ID_FIELD",r=`firestore:docDataOnce:${e.firestore.app.name}:${e.path}:idField=${n}`,i=Rt(e,{idField:n}).pipe(Ct());return w(r,i,t)}function kr(e,t){const n=`firestore:collection:${jt(e)}`,r=Qe(e);return w(n,r,t)}function Or(e,t){const n=t?N(t):"NO_ID_FIELD",r=`firestore:collectionData:${jt(e)}:idField=${n}`,i=mr(e,{idField:n});return w(r,i,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,t,n){var r=Kt.httpsCallable(e,t,n);return function(i){return O(r(i)).pipe(E(function(o){return o.data}))}}function Ar(e,t){const n=Lt(),r=`functions:callableResponse:${e}:${JSON.stringify(t==null?void 0:t.data)}:${JSON.stringify(t==null?void 0:t.httpsCallableOptions)}`,o=Fr(n,e,t==null?void 0:t.httpsCallableOptions)(t==null?void 0:t.data);return w(r,o,t)}function Pr({children:e,traceId:t,fallback:n}){var r;const i=((r=performance==null?void 0:performance.getEntriesByName)===null||r===void 0?void 0:r.call(performance,t,"measure"))||[],o=`_${t}Start[${i.length}]`,u=`_${t}End[${i.length}]`,a=()=>(d.useLayoutEffect(()=>{var s;return(s=performance==null?void 0:performance.mark)===null||s===void 0||s.call(performance,o),()=>{var c,f;(c=performance==null?void 0:performance.mark)===null||c===void 0||c.call(performance,u),(f=performance==null?void 0:performance.measure)===null||f===void 0||f.call(performance,t,o,u)}},[]),d.createElement(d.Fragment,null,n));return d.createElement(d.Suspense,{fallback:d.createElement(a,null)},e)}function G(e){var t=e.remoteConfig,n=e.key,r=e.getter;return new g(function(i){V.ensureInitialized(t).then(function(){var o=r.bind(t);i.next(o(t,n))})})}function Dr(e,t){var n=V.getValue;return G({remoteConfig:e,key:t,getter:n})}function Tr(e,t){var n=V.getString;return G({remoteConfig:e,key:t,getter:n})}function $r(e,t){var n=V.getNumber;return G({remoteConfig:e,key:t,getter:n})}function Rr(e,t){var n=V.getBoolean;return G({remoteConfig:e,key:t,getter:n})}function xr(e){var t=V.getAll;return G({remoteConfig:e,key:"",getter:t})}function z(e,t){const n=qt(),r=n.app.name,i=t(n,e),o=`remoteConfig:${e}:${t.name}:${r}`;return w(o,i)}function jr(e){return z(e,Dr)}function Ur(e){return z(e,Tr)}function Vr(e){return z(e,$r)}function Mr(e){return z(e,Rr)}function Lr(e){return z(e,xr)}function Nr(e){return new g(function(t){var n=function(u){return t.next(u)},r=function(u){return t.error(u)},i=function(){return t.complete()};n(e.snapshot);var o=e.on("state_changed",n);return e.then(function(u){n(u),setTimeout(function(){return i()},0)},function(u){n(e.snapshot),setTimeout(function(){return r(u)},0)}),function(){o()}}).pipe(jn(0))}function qr(e){return O(ze.getDownloadURL(e))}function Wr(e,t,n){const r=`storage:task:${t.toString()}`,i=Nr(e);return w(r,i,n)}function Vt(e,t){const n=`storage:downloadUrl:${e.toString()}`,r=qr(e);return w(n,r,t)}function Qr(e){const t=Nt();return e=Object.assign(Object.assign({},e),{storage:t}),d.createElement(Mt,Object.assign({},e))}function Mt(e){let{storage:t,storagePath:n,suspense:r,placeHolder:i}=e,o=Yt(e,["storage","storagePath","suspense","placeHolder"]);const u={suspense:Y(r)};if(!t)throw new Error("Storage was not passed to component INTERNALStorageImage. This should not be possible");const{status:a,data:s}=Vt(ze.ref(t,n),u);return a==="success"?(o.alt||o.alt===""||console.warn(`No alt prop provided for StorageImage with storagePath "${n}"`,"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images"),d.createElement("img",Object.assign({src:s,alt:o.alt},o))):i!=null?i:d.createElement(d.Fragment,null,"''")}function Kr(e){let{storage:t}=e;return t?d.createElement(Mt,Object.assign({},e)):d.createElement(Qr,Object.assign({},e))}const ce=d.createContext(void 0),le=d.createContext(void 0),fe=d.createContext(void 0),de=d.createContext(void 0),ve=d.createContext(void 0),he=d.createContext(void 0),pe=d.createContext(void 0),be=d.createContext(void 0),me=d.createContext(void 0);function F(e){return function(n){var r,i;if(!n.sdk)throw new Error("no sdk provided");const o=Le().name;if(((i=(r=n==null?void 0:n.sdk)===null||r===void 0?void 0:r.app)===null||i===void 0?void 0:i.name)!==o)throw new Error("sdk was initialized with a different firebase app");return d.createElement(e.Provider,Object.assign({value:n.sdk},n))}}function A(e){const t=d.useContext(e);if(!t)throw new Error("SDK not found. useSdk must be called from within a provider");return t}function P(e,t,n,r){const i=Le();if(d.useContext(t))throw new Error(`Cannot initialize SDK ${e} because it already exists in Context`);const o=d.useMemo(()=>n(i),[i]);return w(`firebase-sdk:${e}:${i.name}`,O(o),r)}const Hr=F(ce),Yr=F(le),Gr=F(fe),zr=F(de),Jr=F(ve),Zr=F(he),Br=F(be),Xr=F(pe),ei=F(me),ti=()=>A(ce),He=()=>A(le),ni=()=>A(fe),ri=()=>A(de),ii=()=>A(ve),Lt=()=>A(he),oi=()=>A(be),Nt=()=>A(pe),qt=()=>A(me),ui=(e,t)=>P("appcheck",ce,e,t),ai=(e,t)=>P("auth",le,e,t),si=(e,t)=>P("analytics",fe,e,t),ci=(e,t)=>P("database",de,e,t),li=(e,t)=>P("firestore",ve,e,t),fi=(e,t)=>P("functions",he,e,t),di=(e,t)=>P("performance",be,e,t),vi=(e,t)=>P("remoteconfig",me,e,t),hi=(e,t)=>P("storage",pe,e,t);class ye extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,ye.prototype)}}function Ye(e,t){if(t==="idField"||t==="initialData"||t==="suspense")return e?e[t]:void 0;throw new Error(`Field "${t}" is not a valid key in ReactFireOptions`)}function pi(e){return Ye(e,"initialData")}function N(e){return Ye(e,"idField")}l.AnalyticsProvider=Gr,l.AnalyticsSdkContext=fe,l.AppCheckProvider=Hr,l.AppCheckSdkContext=ce,l.AuthCheck=nr,l.AuthProvider=Yr,l.AuthSdkContext=le,l.ClaimsCheck=At,l.DatabaseProvider=zr,l.DatabaseSdkContext=de,l.FirebaseAppProvider=Zn,l.FirestoreProvider=Jr,l.FirestoreSdkContext=ve,l.FunctionsProvider=Zr,l.FunctionsSdkContext=he,l.PerformanceProvider=Br,l.PerformanceSdkContext=be,l.ReactFireError=ye,l.RemoteConfigProvider=ei,l.RemoteConfigSdkContext=me,l.StorageImage=Kr,l.StorageProvider=Xr,l.StorageSdkContext=pe,l.SuspenseWithPerf=Pr,l.checkIdField=N,l.checkOptions=Ye,l.checkinitialData=pi,l.preloadFirestoreDoc=Sr,l.preloadObservable=se,l.preloadUser=Xn,l.useAnalytics=ni,l.useAppCheck=ti,l.useAuth=He,l.useCallableFunctionResponse=Ar,l.useDatabase=ri,l.useDatabaseList=vr,l.useDatabaseListData=hr,l.useDatabaseObject=fr,l.useDatabaseObjectData=dr,l.useFirebaseApp=Le,l.useFirestore=ii,l.useFirestoreCollection=kr,l.useFirestoreCollectionData=Or,l.useFirestoreDoc=_r,l.useFirestoreDocData=Er,l.useFirestoreDocDataOnce=Ir,l.useFirestoreDocOnce=Cr,l.useFunctions=Lt,l.useIdTokenResult=Ft,l.useInitAnalytics=si,l.useInitAppCheck=ui,l.useInitAuth=ai,l.useInitDatabase=ci,l.useInitFirestore=li,l.useInitFunctions=fi,l.useInitPerformance=di,l.useInitRemoteConfig=vi,l.useInitStorage=hi,l.useIsSuspenseEnabled=Bn,l.useObservable=w,l.usePerformance=oi,l.useRemoteConfig=qt,l.useRemoteConfigAll=Lr,l.useRemoteConfigBoolean=Mr,l.useRemoteConfigNumber=Vr,l.useRemoteConfigString=Ur,l.useRemoteConfigValue=jr,l.useSigninCheck=er,l.useStorage=Nt,l.useStorageDownloadURL=Vt,l.useStorageTask=Wr,l.useSuspenseEnabledFromConfigAndContext=Y,l.useUser=Ot,l.version=kt,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.cjs.map
